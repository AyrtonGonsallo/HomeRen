
<div class="dimsn-portes">
    <form [formGroup]="posePortesForm" (ngSubmit)="onPosePortesSubmit()">
        <div formArrayName="portes">
            <div *ngFor="let porte of portes.controls; let i = index" [formGroupName]="i">
                Porte {{i+1}}
                <div  class="form-group" nz-row nzJustify="start">
                    <div nz-col nzSpan="20" class="ant-col">
                        <label>Type de porte <span>*</span></label>
                        <div *ngIf="isclicked && portes.controls[i].get('type')?.invalid " class="error-message">
                            Type de porte requis.
                        </div>
                    </div>
                    <div nz-col nzSpan="20" class="ant-col" class="radio-flx-spc">
                        <nz-radio-group formControlName="type">
                            <div *ngFor="let option of types_de_portes" class="parquet-option">
                                <label nz-radio [nzValue]="option.ID + ':' + option.Prix + ':' + option.Label">
                                    <span>{{ option.Label }}</span>
                                </label>
                            </div>
                            
                        </nz-radio-group>
                       
                    </div>
                   
                    <div nz-col nzSpan="20" class="ant-col">
                        <label>Type de matériau <span>*</span></label>
                        <div *ngIf="isclicked && portes.controls[i].get('type2')?.invalid " class="error-message">
                            Type de matériau requis.
                        </div>
                    </div>
                    <div nz-col nzSpan="20" class="ant-col" class="radio-flx-spc">
                        <nz-radio-group formControlName="type2">
                            <div *ngFor="let option of types_de_materiau" class="parquet-option">
                                <label nz-radio [nzValue]="option.ID + ':' + option.Prix + ':' + option.Label">
                                    <span>{{ option.Label }}</span>
                                </label>
                            </div>
                        </nz-radio-group>
                        
                    </div>
                    <div nz-col nzSpan="20" class="ant-col">
                        <label>Type de porte <span>*</span></label>
                        <div *ngIf="isclicked && portes.controls[i].get('type3')?.invalid " class="error-message">
                            Type de porte requis.
                        </div>
                    </div>
                    <div nz-col nzSpan="20" class="ant-col" class="radio-flx-spc">
                        <nz-radio-group formControlName="type3">
                            <div *ngFor="let option of types_de_porte_finition" class="parquet-option">
                                <label nz-radio [nzValue]="option.ID + ':' + option.Prix + ':' + option.Label">
                                    <span>{{ option.Label }}</span>
                                </label>
                            </div>  
                        </nz-radio-group>
                        
                        
                    </div>
                    <div nz-col nzSpan="20" class="ant-col">
                        <label>Finition <span>*</span></label>
                        <div *ngIf="isclicked && portes.controls[i].get('finition')?.invalid " class="error-message">
                            Type de finition requis.
                        </div>
                    </div>
                    <div nz-col nzSpan="20" class="ant-col" class="radio-flx-spc">
                            <nz-radio-group formControlName="finition">
                                <div *ngFor="let option of types_de_finitions" class="parquet-option">
                                    <label nz-radio [nzValue]="option.ID + ':' + option.Prix + ':' + option.Label">
                                        <span>{{ option.Label }}</span>
                                    </label>
                                </div>
                            </nz-radio-group>
                       
                        
                    </div>
                    <div nz-col nzSpan="20" class="ant-col">
                        <label>Informations complémentaires sur le type</label>
                        <textarea formControlName="infos_comp_type"></textarea>
                    </div>
                    <div nz-col nzSpan="20" class="ant-col">
                        <label>Informations complémentaires sur la finition</label>
                        <textarea formControlName="infos_comp_finition"></textarea>
                    </div>
                    <button type="button" (click)="removePortesGroup(i)" class="dynamic-form-button del-btn" *ngIf="portes.length > 1">Supprimer</button>
                  </div>
            </div>
          
        </div>
        <button type="button" class="dynamic-form-button add-btn" (click)="addPortesGroup()" *ngIf="portes.length < 8">Ajouter une porte</button>
      </form>
    </div>