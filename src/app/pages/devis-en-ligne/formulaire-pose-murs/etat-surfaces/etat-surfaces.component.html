
<form [formGroup]="poseMursForm" (ngSubmit)="onPoseMursSubmit()">

  <div formArrayName="murs">
   <div *ngFor="let mur of murs.controls; let i = index" [formGroupName]="i">

     <div class="mur-btn-div">
       <span class="mur-ttl">Mur {{i+1}}</span>
     </div>

     <div nz-row nzJustify="start" >
      
       <div nz-col nzSpan="6" class="ant-col etat-srf tooltip-srf">
         <!-- <label for="etat">État de mur: </label> -->
         <nz-radio-group formControlName="etat" class="radio-flx-spc">
           <div>
             <label nz-radio nzValue="Très abimé" class="radio-span">
               <span>Très abimé</span>
             </label>
             <a nz-tooltip [nzTooltipTitle]="tooltipTresAbime" href="javascript:void(0)" class="info-icon">
               <i class="far fa-question-circle"></i>
             </a>
             <ng-template #tooltipTresAbime>
               Le mur est très abimé, une réparation complète est indispensable.
             </ng-template>
           </div>
           
           <div>
             <label nz-radio nzValue="abimé">
               <span>Abimé</span>
             </label>
             <a nz-tooltip [nzTooltipTitle]="tooltipAbime" href="javascript:void(0)" class="info-icon">
               <i class="far fa-question-circle"></i>
             </a>
             <ng-template #tooltipAbime>
               Le mur présente des signes d'usure, envisagez des réparations mineures.
             </ng-template>
           </div>
           
           <div>
             <label nz-radio nzValue="reprises partielles">
               <span>Reprises partielles</span>
             </label>
             <a nz-tooltip [nzTooltipTitle]="tooltipReprisesPartielles" href="javascript:void(0)" class="info-icon">
               <i class="far fa-question-circle"></i>
             </a>
             <ng-template #tooltipReprisesPartielles>
               Des réparations partielles sont nécessaires pour maintenir le mur en bon état.
             </ng-template>
           </div>
         
           <div>
             <label nz-radio nzValue="depose">
               <span>Dépose</span>
             </label>
             <a nz-tooltip [nzTooltipTitle]="tooltipDepose" href="javascript:void(0)" class="info-icon">
               <i class="far fa-question-circle"></i>
             </a>
             <ng-template #tooltipDepose>
               La dépose du mur existant est recommandée avant l'installation d'un nouveau revêtement.
             </ng-template>
           </div>
         </nz-radio-group>


         <nz-radio-group *ngIf="mur.get('etat')?.value === 'depose'"  formControlName="typedepose" class="radio-flx-spc">
          <div *ngFor="let option of type_de_depose" class="parquet-option">
            <label nz-radio [nzValue]="option.ID + ':' + option.Label + ':' + option.Prix" class="radio-span">
               <span>{{ option.Label }}</span>
             </label>
             <a nz-tooltip [nzTooltipTitle]="tooltiptd1" href="javascript:void(0)" class="info-icon">
               <i class="far fa-question-circle"></i>
             </a>
             <ng-template #tooltiptd1>
              Pour plus d'informations, veuillez consulter :
              <a [href]="baseurl + option.Pdf" target="_blank" class="link-tooltip">PDF</a>
             </ng-template>
           </div>
           
           
         </nz-radio-group>
         
       </div>
       <div *ngIf="isclicked && murs.controls[i].get('etat')?.invalid " class="error-message">
         État des surfaces requis.
       </div>
     </div>
   </div>
   
  </div>
</form>