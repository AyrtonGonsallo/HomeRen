<div class="plaf-dim">
    
  
  
  


  <div  class="div-s-b">
    <div class="div-chauf-gm">
      <span class="center jaune fs-16 f-w-6">À remplacer sans changement de câble</span>   
    </div>
    <form [formGroup]="appareils_a_remplacer_form" (ngSubmit)="submit()">
      <div *ngIf="exist_glob_err_form2" class="error-message">
        {{glob_err_form2}}
      </div>
      <div formArrayName="appareils_electrique_a_remplacer" class="flx-pr">
        <div *ngFor="let appareilGroup of appareils_electrique_a_remplacer; let i = index" [formGroupName]="i">
          

          <nz-collapse nzAccordion>
              <nz-collapse-panel nzHeader="{{appareils_electrique_a_remplacer && appareils_electrique_a_remplacer[i] ? appareils_electrique_a_remplacer[i].Titre : ''}}" [nzActive]="getAppareilRemplActiveState(i)" [nzExtra]="activerTp2" nzShowArrow="false" (nzActiveChange)="active_Tp2(i)">
                <div class="ant-col etat-srf tooltip-srf" *ngIf="isclicked && getAppareilNombreState2(i)" class="error-message">
                  Vous devez faire un choix.
                </div>
                
                <div nzspan="6" class="col-accord-inpt">
                  <label for="nombre_a_creer">A remplacer<span class="error-message" *ngIf="getAppareilRemplActiveState(i)">*</span> : </label>
                  <input type="number" id="nombre_a_creer" formControlName="nombre_a_creer" min="0">      
                </div>  

                <div nzspan="6" class="col-accord-inpt">
                  <label for="nombre_a_remplacer">A créer<span class="error-message" *ngIf="getAppareilRemplActiveState(i)">*</span> : </label>
                  <input type="number" id="nombre_a_remplacer" formControlName="nombre_a_remplacer" min="0">      
                </div>  
              </nz-collapse-panel>
          </nz-collapse>
          <ng-template #activerTp2>
            <label nz-checkbox formControlName="active">
              
            </label>
          </ng-template>
          <!-- Ajoutez d'autres champs selon vos besoins -->
        </div>
      </div>
      <div  class="form-group" nz-row nzJustify="start">
        
        <div class="mur-btn-div" >
          <div class="ttl-mob" style="margin-right: auto;text-align: left;"><span class="mur-ttl">Gamme d'appareillage</span></div>
         </div>

        <div nz-col nzSpan="6" class="ant-col col-gm tooltip-srf etat-srf">
          
          <nz-radio-group formControlName="gamme" class="radio-flx-spc">
            <!-- Reusable template for displaying options with PDFs -->
          
             
              <div *ngFor="let option of gammes_appareillage" class="parquet-option nt-col tooltip-srf ">
                <label nz-radio [nzValue]="option.ID + ':' + option.Prix + ':' + option.Label">
                  <span>
                    <!-- Dynamically display the label based on the type -->
                    {{ option.Label }}
                  </span>
                </label>
                <a *ngIf="option.Pdf" nz-tooltip [nzTooltipTitle]="tooltipTemplate" href="javascript:void(0)" class="pdf-icon">
                  <i class="far fa-question-circle"></i>
                </a>
                <ng-template #tooltipTemplate>
                  Pour plus d'informations, veuillez consulter :
                  <a [href]="baseurl + option.Pdf" target="_blank" class="link-tooltip">PDF</a>
                </ng-template>
              </div>
            
          </nz-radio-group>
        </div>
          <div *ngIf="isclicked && appareils_a_remplacer_form.get('gamme')?.invalid " class="error-message">
            Les gammes sont requises.
          </div>

      </div>
      


      
    </form>
  </div>

  <!-- Tooltip Template -->


</div>

